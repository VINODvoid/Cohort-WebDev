<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>State Driven Frontend</title>
</head>
<body>
    <h1>Todo-List</h1>
    <input type="text"  id="input">
    <button onclick="addTodo()">Add</button>
    <div id="todoContainer"></div>
</body>
<script>
    let todos = [
        {
            id:1,
            task:"Walk 4 miles",
        },
        {
            id : 2,
            task:"Drink water every 15 min",
        }
    ]
    let index = 3;
    function render(){
        const todoContainer = document.getElementById("todoContainer");
        todoContainer.innerHTML = "";
        todos.forEach(function(todo){
            const divElement = document.createElement("div");
            const spanElement = document.createElement("span");
            spanElement.innerHTML = todo.task;
            const buttonElement = document.createElement("button");
            buttonElement.innerHTML = "Delete";
            buttonElement.onclick = function(){
                deleteTodo(todo.id);
            }
            divElement.appendChild(spanElement);
            divElement.appendChild(buttonElement);
            todoContainer.appendChild(divElement);
        })
    }
    function addTodo(){
        const inputValue = document.getElementById("input").value;
        todos.push({id:index++,task:inputValue});
        render();

    }
    function deleteTodo(id){
        todos = todos.filter(todo => todo.id !== id);
        render();

    }

    render();
</script>
</html>